(this["webpackJsonpcommuter-calculator"]=this["webpackJsonpcommuter-calculator"]||[]).push([[0],{140:function(e,t,n){},161:function(e,t,n){},163:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(22),s=n.n(o),c=(n(68),n(69),n(8)),r=n(9),l=n(11),u=n(10),d=n(5),h=n(2),j=n(62),m=n.n(j),b=(n(140),Object(h.n)({myList:[]})),p=Object(h.n)({show:!1,homeLocation:"",nearestDestinationStation:"",nearestHomeStation:"",journeyData:{},trainTravelTime:"",lowerValue:!1,higherValue:!1}),O=n(6),f=n.n(O),v=n(12),y=Object(h.n)({show:!1,showDropDown:!1,dailyTravelSpend:0,dailyTravelTime:0,destinationPostCode:"",destinationDetails:{},destinationCoords:{longitude:"",latitude:""},nearestDestinationStations:[],homePostCode:"",homeDetails:{},homeCoords:{longitude:"",latitude:""},nearestHomeStations:[]}),T=n(15),x=n.n(T),C=n(63),g=function(e){y.dailyTravelTime>b.myList[e].trainTravelTime?p.lowerValue=!0:y.dailyTravelTime<b.myList[e].trainTravelTime?p.higherValue=!0:(p.lowerValue=!1,p.higherValue=!1)};function N(e){return L.apply(this,arguments)}function L(){return(L=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0===Object(C.postcodeValidator)(t,"GB")?p.show=!0:(alert("The postcode: ".concat(t," does not exist. Please enter a valid postcode")),p.show=!1);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return S.apply(this,arguments)}function S(){return(S=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=y.homePostCode,x.a.get("https://api.postcodes.io/postcodes/".concat(t)).then((function(e){p.homeLocation=e.data.result.admin_district,y.homeCoords.latitude=e.data.result.latitude,y.homeCoords.longitude=e.data.result.longitude})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(161);var w=n(1),P=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"handleChange",value:function(e){var t=e.target,n=t.value,a=t.name,i=n;return y[a]=i,i}},{key:"handleSubmit",value:function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:x.a.get("https://api.tfl.gov.uk/Journey/JourneyResults/".concat(y.destinationPostCode,"/to/").concat(y.homePostCode,"&nationalSearch=true")).then((function(e){p.journeyData=e.data.journeys,p.trainTravelTime=e.data.journeys[0].duration})),t.preventDefault(),N(y.destinationPostCode,"GB"),N(y.homePostCode,"GB"),x.a.get("https://api.tfl.gov.uk/StopPoint/910GGRVPK/FareTo/910GLNDNBDC").then((function(e){console.log(e)})),g(b.myList.length);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(w.jsx)("div",{className:"input-form",children:Object(w.jsxs)("form",{className:"form-fields",onSubmit:Object(h.f)(this.handleSubmit),children:[Object(w.jsx)("label",{className:"label-name",children:Object(w.jsx)("span",{className:"content-name",children:"Daily Travel Spend Budget"})}),Object(w.jsx)("input",{className:"input-number",type:"number",name:"dailyTravelSpend",autoComplete:"off",value:this.input,onChange:Object(h.f)(this.handleChange),label:"DAILY TRAVEL SPEND",required:!0}),Object(w.jsx)("label",{children:"Daily Travel Time Budget"}),Object(w.jsx)("input",{className:"input-number",type:"number",name:"dailyTravelTime",autoComplete:"off",value:this.input,onChange:Object(h.f)(this.handleChange),label:"DAILY TRAVEL TIME",required:!0}),Object(w.jsx)("label",{children:"Destination Postcode"}),Object(w.jsx)("input",{className:"input-text",type:"text",name:"destinationPostCode",value:this.input,onChange:Object(h.f)(this.handleChange),label:"DESTINATION POST CODE",required:!0}),Object(w.jsx)("label",{children:"New Home Postcode"}),Object(w.jsx)("input",{className:"input-text",type:"text",name:"homePostCode",value:this.input,onChange:Object(h.f)(this.handleChange),label:"NEW HOME POSTCODE",required:!0}),Object(w.jsx)("input",{className:"submit-button",type:"submit",value:"SUBMIT"})]})})}}]),n}(a.Component),k=Object(d.a)(P),V=(n(163),Object(d.a)((function(e){return Object(w.jsx)("div",{children:p.show?Object(w.jsxs)("div",{className:"location-details",children:[Object(w.jsxs)("h3",{children:["Location: ",e.homeLocation]}),Object(w.jsxs)("span",{className:"option",children:["Train travel time: ",e.trainTime," mins"]}),Object(w.jsxs)("span",{className:"option",children:["Train travel cost: \xa3",e.trainCost]})]}):null})}))),E=(n(164),n(165),Object(d.a)((function(e){return Object(w.jsxs)("div",{className:"location-details",children:[Object(w.jsxs)("span",{className:"option-bold",children:["Location: ",e.location]}),Object(w.jsxs)("span",{className:"option",style:p.lowerValue?{color:"#13B000"}:null|p.higherValue?{color:"red"}:null,children:["Train travel time: ",e.trainTime," mins"]}),Object(w.jsxs)("span",{className:"option",children:["Train travel cost: \xa3",e.trainCost]})]})}))),I=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(c.a)(this,n),e=t.call(this),b.myList.length<0&&g(b.myList.indexOf(0)),e}return Object(r.a)(n,[{key:"render",value:function(){return console.log(b.myList),Object(w.jsx)("div",{children:b.myList.map((function(e,t){return Object(w.jsxs)("div",{className:"list-item",children:[Object(w.jsx)(E,{location:e.homeLocation,trainTime:e.trainTravelTime,trainCost:e.dailyTrainSpend,carTime:e.dailyCarTime,carCost:e.dailyCarSpend}),Object(w.jsx)("span",{className:"cross",onClick:function(){return b.myList.splice(t,1)},children:"\xd7"})]},"myList".concat(t))}))})}}]),n}(a.Component),B=Object(d.a)(I),A=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"pushToMyList",value:function(e){Object(h.f)(b.myList.push(m()(e)))}},{key:"render",value:function(){var e=this;return Object(w.jsx)("div",{children:Object(w.jsxs)("div",{className:"home-grid",children:[Object(w.jsxs)("div",{className:"your-details",children:[Object(w.jsx)("h2",{children:"YOUR DETAILS"}),Object(w.jsx)(k,{}),p.journeyData.length?Object(w.jsx)(V,{homeLocation:p.homeLocation,trainTime:p.trainTravelTime,trainCost:0,carTime:0,carCost:0}):null,p.show?Object(w.jsx)("button",{className:"add-to-list-button",onClick:Object(h.f)((function(){return e.pushToMyList(p)})),children:"ADD TO MY LIST"}):null]}),Object(w.jsxs)("div",{className:"my-list",children:[Object(w.jsx)("h2",{children:"MY LIST"}),Object(w.jsx)(B,{})]})]})})}}]),n}(a.Component),M=Object(d.a)(A),G=(n(166),n.p+"static/media/commuter-calculator-logo.c9dae435.png"),R=function(){return Object(w.jsx)("div",{className:"logo-container",children:Object(w.jsx)("img",{className:"logo",alt:"logo",src:G})})};var Y=function(){return Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)(R,{}),Object(w.jsx)(M,{})]})};s.a.render(Object(w.jsx)(i.a.StrictMode,{children:Object(w.jsx)(Y,{})}),document.getElementById("root"))},68:function(e,t,n){},69:function(e,t,n){}},[[167,1,2]]]);
//# sourceMappingURL=main.8cfa5010.chunk.js.map