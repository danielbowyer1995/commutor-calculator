(this["webpackJsonpcommuter-calculator"]=this["webpackJsonpcommuter-calculator"]||[]).push([[0],{140:function(e,t,n){},161:function(e,t,n){},163:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(22),s=n.n(o),c=(n(68),n(69),n(8)),r=n(9),l=n(11),u=n(10),d=n(5),m=n(2),j=n(62),h=n.n(j),b=(n(140),Object(m.n)({myList:[]})),p=Object(m.n)({show:!1,homeLocation:"",nearestDestinationStation:"",nearestHomeStation:"",journeyData:{},trainTravelTime:"",lowerValue:!1,higherValue:!1}),O=n(6),f=n.n(O),v=n(12),y=Object(m.n)({show:!1,showDropDown:!1,dailyTravelSpend:0,dailyTravelTime:0,destinationPostCode:"",destinationDetails:{},destinationCoords:{longitude:"",latitude:""},nearestDestinationStations:[],homePostCode:"",homeDetails:{},homeCoords:{longitude:"",latitude:""},nearestHomeStations:[]}),T=n(15),x=n.n(T),C=n(63);function g(e){return N.apply(this,arguments)}function N(){return(N=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0===Object(C.postcodeValidator)(t,"GB")?p.show=!0:(alert("The postcode: ".concat(t," does not exist. Please enter a valid postcode")),p.show=!1);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return D.apply(this,arguments)}function D(){return(D=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=y.homePostCode,x.a.get("https://api.postcodes.io/postcodes/".concat(t)).then((function(e){p.homeLocation=e.data.result.admin_district,y.homeCoords.latitude=e.data.result.latitude,y.homeCoords.longitude=e.data.result.longitude})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(161);var S=n(1),w=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"handleChange",value:function(e){var t=e.target,n=t.value,a=t.name,i=n;return y[a]=i,i}},{key:"handleSubmit",value:function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:x.a.get("https://api.tfl.gov.uk/Journey/JourneyResults/".concat(y.destinationPostCode,"/to/").concat(y.homePostCode,"&nationalSearch=true")).then((function(e){p.journeyData=e.data.journeys,p.trainTravelTime=e.data.journeys[0].duration})),t.preventDefault(),g(y.destinationPostCode,"GB"),g(y.homePostCode,"GB"),x.a.get("https://api.tfl.gov.uk/StopPoint/910GGRVPK/FareTo/910GLNDNBDC").then((function(e){console.log(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(S.jsx)("div",{className:"input-form",children:Object(S.jsxs)("form",{className:"form-fields",onSubmit:Object(m.f)(this.handleSubmit),children:[Object(S.jsx)("label",{className:"label-name",children:Object(S.jsx)("span",{className:"content-name",children:"Daily Travel Spend Budget"})}),Object(S.jsx)("input",{className:"input-number",type:"number",name:"dailyTravelSpend",autoComplete:"off",value:this.input,onChange:Object(m.f)(this.handleChange),label:"DAILY TRAVEL SPEND",required:!0}),Object(S.jsx)("label",{children:"Daily Travel Time Budget"}),Object(S.jsx)("input",{className:"input-number",type:"number",name:"dailyTravelTime",autoComplete:"off",value:this.input,onChange:Object(m.f)(this.handleChange),label:"DAILY TRAVEL TIME",required:!0}),Object(S.jsx)("label",{children:"Destination Postcode"}),Object(S.jsx)("input",{className:"input-text",type:"text",name:"destinationPostCode",value:this.input,onChange:Object(m.f)(this.handleChange),label:"DESTINATION POST CODE",required:!0}),Object(S.jsx)("label",{children:"New Home Postcode"}),Object(S.jsx)("input",{className:"input-text",type:"text",name:"homePostCode",value:this.input,onChange:Object(m.f)(this.handleChange),label:"NEW HOME POSTCODE",required:!0}),Object(S.jsx)("input",{className:"submit-button",type:"submit",value:"SUBMIT"})]})})}}]),n}(a.Component),P=Object(d.a)(w),k=(n(163),Object(d.a)((function(e){return Object(S.jsx)("div",{children:p.show?Object(S.jsx)("div",{className:"list-item",children:Object(S.jsxs)("div",{className:"location-details",children:[Object(S.jsxs)("h3",{className:"option-bold",children:["Location: ",e.homeLocation]}),Object(S.jsxs)("span",{className:"option",children:["Train travel time: ",e.trainTime," mins"]}),Object(S.jsxs)("span",{className:"option",children:["Train travel cost: \xa3",e.trainCost]})]})}):null})}))),V=(n(164),n(165),Object(d.a)((function(e){return Object(S.jsxs)("div",{className:"location-details",children:[Object(S.jsxs)("span",{className:"option-bold",children:["Location: ",e.location]}),Object(S.jsxs)("span",{className:"option",style:b.myList[e.id].lowerValue?{color:"#13B000"}:null|b.myList[e.id].higherValue?{color:"red"}:null,children:["Train travel time: ",e.trainTime," mins"]}),Object(S.jsxs)("span",{className:"option",children:["Train travel cost: \xa3",e.trainCost]})]})}))),E=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return console.log(b.myList),Object(S.jsx)("div",{children:b.myList.map((function(e,t){return Object(S.jsxs)("div",{className:"list-item",children:[Object(S.jsx)(V,{location:e.homeLocation,trainTime:e.trainTravelTime,trainCost:e.dailyTrainSpend,carTime:e.dailyCarTime,carCost:e.dailyCarSpend,id:t}),Object(S.jsx)("span",{className:"cross",onClick:function(){return b.myList.splice(t,1)},children:"\xd7"})]},"myList".concat(t))}))})}}]),n}(a.Component),I=Object(d.a)(E),B=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"pushToMyList",value:function(e){var t;Object(m.f)(b.myList.push(h()(e))),t=b.myList.length-1,y.dailyTravelTime>=b.myList[t].trainTravelTime&&(b.myList[t].lowerValue=!0,b.myList[t].higherValue=!1),y.dailyTravelTime<b.myList[t].trainTravelTime&&(b.myList[t].lowerValue=!1,b.myList[t].higherValue=!0)}},{key:"render",value:function(){var e=this;return Object(S.jsx)("div",{children:Object(S.jsxs)("div",{className:"home-grid",children:[Object(S.jsxs)("div",{className:"your-details",children:[Object(S.jsx)("h2",{children:"YOUR DETAILS"}),Object(S.jsx)(P,{}),p.journeyData.length?Object(S.jsx)(k,{homeLocation:p.homeLocation,trainTime:p.trainTravelTime,trainCost:0,carTime:0,carCost:0}):null,p.show?Object(S.jsx)("button",{className:"add-to-list-button",onClick:Object(m.f)((function(){return e.pushToMyList(p)})),children:"ADD TO MY LIST"}):null]}),Object(S.jsxs)("div",{className:"my-list",children:[Object(S.jsx)("h2",{children:"MY LIST"}),Object(S.jsx)(I,{})]})]})})}}]),n}(a.Component),A=Object(d.a)(B),M=(n(166),n.p+"static/media/commuter-calculator-logo-blue.5e03eebf.png"),G=function(){return Object(S.jsx)("div",{className:"logo-container",children:Object(S.jsx)("img",{className:"logo",alt:"logo",src:M})})};var R=function(){return Object(S.jsxs)("div",{className:"App",children:[Object(S.jsx)(G,{}),Object(S.jsx)(A,{})]})};s.a.render(Object(S.jsx)(i.a.StrictMode,{children:Object(S.jsx)(R,{})}),document.getElementById("root"))},68:function(e,t,n){},69:function(e,t,n){}},[[167,1,2]]]);
//# sourceMappingURL=main.375a3b75.chunk.js.map